<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../../../favicon.ico">

    <title>Drupal 8 preparation </title>

    <!-- Bootstrap core CSS -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="offcanvas.css" rel="stylesheet">
</head>

<body>



<div class="container">

    <div class="row row-offcanvas row-offcanvas-right">

        <div class="col-12 col-md-9">
            <p class="float-right d-md-none">
                <button type="button" class="btn btn-primary btn-sm" data-toggle="offcanvas">Toggle nav</button>
            </p>
            <div class="jumbotron">



                <h1>Drupal8 - routing</h1>

                <br />
                <br />
                <br />
                <h2>Маршрутизация или роутинг</h2>
                <br />
                <br />

                <p>Drupal 8 использует ядро ​​<strong>Symfony HTTP Kernel</strong>,
                    систему, которая получает запрос,<br/>
                    и просит другие системы произвести запрошенный вывод
                    <strong>(объект ответа)</strong><br/>
                    и отправляет ответ обратно клиенту.
                    <br/><br/>


                    Выход генерируется куском кода, называемым ​​<strong>контроллером</strong>.<br/>
                    Теоретически контроллер может быть либо
                    <ul>
                <li>чистой функцией PHP 4,</li>
                <li>    либо методом объекта,</li>
                <li>   либо анонимной функцией.</li>
                    </ul>
                <br/>
                    </p>
                <br />

                <h3>Маршрутизация Symfony по сравнению с маршрутизацией Drupal</h3>

                <p>В качестве разработчика модуля вы определяете список маршрутов и соответствующих контроллеров,
                    например:</p>
                <p>Ключевой концепцией является <strong>контроллер</strong>, который получает некоторые параметры из системы и преобразует их в ответ.</p>

                В этом примере у вас есть параметр <strong>'taxonomy_vocabulary'</strong>.

                <p>Все <strong>без подчеркивания</strong> считается параметром контроллера.</p>

                <p>Если вы хотите указать значение по умолчанию, вы должны поместить его в <strong>массив по умолчанию</strong>.</p>

                <p>Свойства, не имеющие ничего общего с параметрами контроллера, считаются <strong>внутренними</strong> и имеют <strong>символ подчеркивания</strong> в качестве префикса.</p>

                <p>Symfony также позволяет вам определять <strong>регулярные выражения для проверки правильности входящего параметра</strong> (с использованием «требований»).</p>

                <p>В приведенном выше коде он будет соответствовать только числам.</p>
                &nbsp;&nbsp;&nbsp;
                <p><span class="alert alert-success" data-toggle="collapse" data-target="#dockernat12" aria-expanded="false" aria-controls="dockerps">Пример</span></p>

                <div class="collapse" id="dockernat12">
                    <div class="card card-body"> taxonomy.autocomplete_vid:<br/>
                        path: '/taxonomy/autocomplete_vid/{taxonomy_vocabulary}'<br/>
                        defaults:<br/>
                        _controller: '\Drupal\taxonomy\Controller\TermAutocompleteController::autocompletePerVid'<br/>
                        requirements:<br/>
                        taxonomy_vocabulary: \d+<br/>
                    </div>
                </div>


                <p>(Документация Symfony использует <strong>«шаблон»</strong> вместо <strong>«path»</strong>, но поскольку Symfony 2.2 (теперь включена в Drupal), ключ «path» используется в файле маршрутизации.)</p>

                <h3>Маршрутизация в файлах routing.yml</h3>



                <p><strong>example.info.ymlexample.routing.yml</strong></p>


                <p><span class="alert alert-success" data-toggle="collapse" data-target="#r2" aria-expanded="false" aria-controls="dockerps">Пример</span></p>

                <div class="collapse" id="r2">
                    <div class="card card-body">
                        example.content:<br/>
                        path: '/example'<br/>
                        defaults:<br/>
                        _controller: '\Drupal\example\Controller\ExampleController::content'<br/>
                        _title: 'Hello World'<br/>
                        requirements:<br/>
                        _permission: 'access content'<br/>
                    </div>
                </div>
                <br/>
                <br/>
                <h3>Структура маршрутов</h3>
                <br/>
                <br/>

                <ul>
                    <li>путь (обязательно) :
                        <p><strong>URL-адрес маршрута</strong> с ведущей косой чертой (например, ).</p>

                        <p>Вы можете использовать динамические свойства,
                            включив их в фигурные скобки.</p>

                        <p>Они будут передаваться в виде аргументов
                            через <strong>преобразователи параметров</strong> в контроллер</p>

                        Обратите внимание, что первый элемент пути не должен быть динамическим.
                        Вы также можете определить дополнительные параметры
                        в конце вашего пути


                        <srong>.path: '/book'path: '/node/{node}/outline'</srong>
                    </li>


                    <li>defaults (required) :
                        Определяет свойства по умолчанию для маршрута.
                        Чтобы указать, как генерируется вывод, укажите одно из следующего:
                        Наконец, если какие-либо статические аргументы
                        должны быть переданы контроллеру,
                        укажите их в массиве по умолчанию.
                        Назовите их, чтобы они соответствовали аргументам
                        вашего метода контроллера. </li>


                </ul>


                <p>Необязательные параметры:
                    если вы планируете включать необязательные параметры в конце вашего пути,
                    также должны соответствовать <strong>foo / bar</strong>,
                    а baz - конкретное значение,
                    которое вы должны установить в массиве по умолчанию.<strong>foo/bar/{baz}</strong></p>


                <p><strong>_controller :</strong> значение является вызываемым (обычно ), возвращающим либо <strong>classname::method</strong></p>

                <p><strong>рендерируемый массив</strong>.
                    Это будет отображаться в HTML и использоваться в качестве основного содержимого обычной тематической страницы Drupal.</p>

                <p><strong>возвращая объект</strong>.
                Для не-HTML (например, XML-фиды) или только для «фрагмента страницы» HTML.
                Это будет отправлено напрямую, никакие темы или блоки не будут добавлены.
                <strong>Symfony\Component\HttpFoundation\Response</strong></p>


            <p>пространство имен: <strong>ex:\Drupal\[module name]\Controller\[ClassName]::[method]
                _controller: '\Drupal\test_mod\Controller\TestModController::build'</strong></p>

            <p>Путь:  например:  содержащий класс с методом
            ( «метод» является общим термином для ОО функции внутри класса).<strong>[module name]/src/Controller/[ClassName].php
                    test_mod/src/Controller/TestModController.phpTestModControllerbuild()</strong></p>

            <p><strong>service:, где «controller.test»</strong> - это сервис, который вы определили в контейнере инъекции зависимостей
            . например:<strong>controller.test:[method]
            _controller: 'controller.test:buildAction'</strong></p>


            <p>Обратите внимание, что значение <strong>_controller</strong> - это не путь,
                а скорее имя класса с именами,
                использующее стандарт PSR-4 для автозагрузки пространства имен PHP
                Имя пути с именами PSR-4 должно указывать на соответствующую структуру пути.</p>

            <p>Обратите внимание, что имена модулей имеют строчные буквы с символами подчеркивания, а имена классов - верблюжью нотацию</p>

                <p><strong>_form :</strong> Это ожидание внедрения класса . См. Пример API-интерфейса API в Drupal 8 .Drupal\Core\Form\FormInterface</p>

                <p><strong>_entity_view :</strong> Значение . Найти объект в пути и отобразить его в данном режиме просмотра.
                    Например , вернет массив рендеринга {node} в тизерном режиме.
                    См. Страницы просмотра сущностей, предоставленные контроллером представления сущностиentity_type.view_mode_entity_view:
                    node.teaser</p>

                <p><strong>_entity_list :</strong>
                Значение entity_type. Предоставляет список объектов,
                использующих EntityListController соответствующего объекта. Например,
                <strong>_entity_list: view_mode</strong> возвращает массив рендеринга списка режимов просмотра.</p>


                <p><strong>_entity_form :</strong>
                    Аналогично <strong>_form,</strong>
                    но предоставит форму редактирования для объекта.
                    Обработчики форм объектов определены в метаданных объекта (аннотация).
                    Например, отобразится форма узла по умолчанию. «node» in относится к идентификатору объекта,
                    а «default» относится к ключу обработчика формы.<strong>_entity_form: node.defaultnode.default</strong></p>

                <p><strong>_title</strong> (необязательно) : название страницы для маршрута. Может отличаться от названия ссылки меню.</p>



                <p><strong>_title_arguments (необязательно)</strong> : дополнительные аргументы для текста заголовка, переданного по t ().</p>


                <p><strong>_title_context</strong> (необязательно) :
                    дополнительная контекстная информация для текста заголовка, передаваемого по t ().</p>

                <p><strong>_title_callback </strong>(необязательно) : PHP,
                вызываемый (обычно ), возвращающий заголовок страницы для маршрута.classname::method</p>














            </div>
            <div class="row">
                <div class="col-6 col-lg-4">
                    <h2>Task d[1][dth][1]</h2>
                    <p>
                    <ul>
                        <li>Main review</li>
                        <li>Read documentation</li>
                        <li>Create plan</li>
                        <li>Feedback</li>
                    </ul>
                    </p>

                    <p><a class="btn btn-secondary" href="/theme_l1_subtheme_task1" role="button">Show result &raquo;</a></p>
                    <p><button type="button" class="btn btn-info">Show code</button></p>
                </div><!--/span-->
                <div class="col-6 col-lg-4">
                    <h2>Task d[1][dth][1]</h2>
                    <p>
                    <ul>
                        <li>Main review</li>
                        <li>Read documentation</li>
                        <li>Create plan</li>
                        <li>Feedback</li>
                    </ul>
                    </p>

                    <p><a class="btn btn-secondary" href="/theme_l1_subtheme_task1" role="button">Show result &raquo;</a></p>
                    <p><button type="button" class="btn btn-info">Show code</button></p>
                </div><!--/span-->
                <div class="col-6 col-lg-4">
                    <h2>Task d[1][dth][1]</h2>
                    <p>
                    <ul>
                        <li>Main review</li>
                        <li>Read documentation</li>
                        <li>Create plan</li>
                        <li>Feedback</li>
                    </ul>
                    </p>

                    <p><a class="btn btn-secondary" href="/theme_l1_subtheme_task1" role="button">Show result &raquo;</a></p>
                    <p><button type="button" class="btn btn-info">Show code</button></p>
                </div><!--/span-->
                <div class="col-6 col-lg-4">
                    <h2>Task d[1][dth][1]</h2>
                    <p>
                    <ul>
                        <li>Main review</li>
                        <li>Read documentation</li>
                        <li>Create plan</li>
                        <li>Feedback</li>
                    </ul>
                    </p>

                    <p><a class="btn btn-secondary" href="/theme_l1_subtheme_task1" role="button">Show result &raquo;</a></p>
                    <p><button type="button" class="btn btn-info">Show code</button></p>
                </div><!--/span-->
                <div class="col-6 col-lg-4">
                    <h2>Task d[1][dth][1]</h2>
                    <p>
                    <ul>
                        <li>Main review</li>
                        <li>Read documentation</li>
                        <li>Create plan</li>
                        <li>Feedback</li>
                    </ul>
                    </p>

                    <p><a class="btn btn-secondary" href="/theme_l1_subtheme_task1" role="button">Show result &raquo;</a></p>
                    <p><button type="button" class="btn btn-info">Show code</button></p>
                </div><!--/span-->
                <div class="col-6 col-lg-4">
                    <h2>Task d[1][dth][1]</h2>
                    <p>
                    <ul>
                        <li>Main review</li>
                        <li>Read documentation</li>
                        <li>Create plan</li>
                        <li>Feedback</li>
                    </ul>
                    </p>

                    <p><a class="btn btn-secondary" href="/theme_l1_subtheme_task1" role="button">Show result &raquo;</a></p>
                    <p><button type="button" class="btn btn-info">Show code</button></p>
                </div><!--/span-->
            </div><!--/row-->
        </div><!--/span-->

        <div class="col-6 col-md-3 sidebar-offcanvas" id="sidebar">
            <div class="list-group">
                <a href="d[1]-dth-dth[1].html" class="list-group-item active">1.1 List of template engines, explains concept and understands how the template engines work</a>
                <a href="#" class="list-group-item">1.2 Registeration and implemention of theme hooks</a>
                <a href="#" class="list-group-item">1.3 Concept of theme registry</a>
                <a href="#" class="list-group-item">1.4 Customization of page elements by overriding templates and themable functions</a>
                <a href="#" class="list-group-item">1.5 Convertion of themable function to dedicated template</a>
                <a href="#" class="list-group-item">1.6 Work with template variables</a>
                <a href="#" class="list-group-item">1.7 Overriding core css and js files</a>
                <a href="#" class="list-group-item">1.8 Concept of Render API</a>
                <a href="#" class="list-group-item">1.9 Aggregation and minifying of js and css/a>
                    <a href="#" class="list-group-item">1.10 Change of js and css files weights</a>
            </div>
        </div><!--/span-->

        <div class="jumbotron">
            <h1>Documents and related links</h1>
            <p><a href="https://www.drupal.org/docs/7/theming/overview-of-theme-files">https://www.drupal.org/docs/7/theming/overview-of-theme-files</a></p>
            <p>https://www.drupal.org/docs/7/theming/writing-theme-info-files</p>
            <p>https://www.drupal.org/docs/7/theming/default-info-values</p>
            <p>https://www.drupal.org/docs/7/theming/assigning-content-to-regions</p>
        </div>

    </div><!--/row-->





    <hr>

    <footer>
        <p>&copy; Drupal 2017</p>
    </footer>

</div><!--/.container-->


<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="../../../../assets/js/vendor/jquery.min.js"><\/script>')</script>
<script src="/static/js/popper.min.js"></script>
<script src="/static/js/bootstrap.min.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="/static/js/ie10-viewport-bug-workaround.js"></script>
<script src="offcanvas.js"></script>
</body>
</html>